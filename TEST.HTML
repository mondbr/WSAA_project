<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"> <!-- Character encoding for HTML5 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Responsive design for mobile devices -->
    <script src="https://cdn.jsdelivr.net/npm/freecurrencyapi-js"></script> <!-- Free Currency API JS library -->
    <title> Personal Budget Tracker </title>

    <!-- Added Google Font for professional font (Quicksand) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300..700&display=swap" rel="stylesheet">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>  <!-- jQuery library for AJAX requests -->

    <!-- Bootstrap CSS for styling -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    
    <style>
        /* Body of the page */
        body {
            background-color: rgb(216, 216, 216);
            font-family: 'Quicksand', sans-serif;
            padding: 20px; 
        }

        /* Center header */
        h1 {
            text-align: center; /* Center the header */
            color:rgba(0, 0, 0, 0.877); /* Color of the header */
            font-weight: 500; /* Header bold */
        }

        /* Center the h2 and h3 */
        h2, h3 {
            text-align: center; /* Center h2 and h3 */
        }

        /* Button styling */
        button {
            background-color: #f8f0f7; /* Grey background */
            border: 2px solid #6f11da; /* Blue border */
            color: #6673eb; /* Blue text */
            padding: 10px 20px; /* Padding for the button */
            font-size: 16px; /* Font size of the button */
            cursor: pointer; /* Cursor pointer on hover */
            border-radius: 12px; /* Rounded corners */
            transition: all 0.4s ease; /* Smooth transition */
        }

        /* Button hover effect */
        button:hover {
            background-color: #561cc0; /* Blue background on hover */
            color: #f0e443ce; /* Yellow text on hover */
        }

        /* Button container - Center buttons */
        .button-container {
            display: flex;
            justify-content: center; /* Center buttons horizontally */
            gap: 20px; /* Add spacing between buttons */
            margin-top: 20px; /* Add margin above buttons */
        }

        /* Table styling */
        #transactionsTableDiv {
            margin-top: 30px; /* Margin top for the table */
        }

        table {
            width: 100%; /* Full width of the table */
            margin-top: 20px; /* Margin top for the table */
            border-collapse: collapse; /* Collapse borders */
        }

        th, td {
            padding: 8px; /* Padding for table cells */
            text-align: center; /* Center text */
            border-bottom: 3px solid #000000; /* Bottom border for table cells */
        }

        th {
            background-color: #4a3267; /* Background for header */
            color: white; /* White text for header */
        }

        tr:nth-child(even) {
            background-color: #F3D9E5; /* Background for even rows */
        }

        tr:nth-child(odd) {
            background-color: #ccc1e2; /* Background for odd rows */
        }

        tr:hover {
            background-color: #15c9cf48; /* Gray background on hover */
        }

    </style>
</head>
<body>
    <div class="container">
        <!-- Title of the page -->
        <h1>Personal Budget Tracker</h1>
        <h2>Track your income and expenses</h2>
        <h3>Manage your finances</h3>

        <!-- Button container for centering buttons -->
        <div class="button-container"> 
            <button id="showCreateButton" onclick="showCreate()">Create New Transaction</button> 
            <button id="showViewAllButton" onclick="showViewAll()">View All Transactions</button> <!-- Button to show all transactions -->
        </div>
        
        <!-- Table to display transactions (hidden initially) -->
        <div id="createUpdateForm" style="display: none;">
            <h2><span id="createLabel">Create a</span> <span id="updateLabel">Update</span> Transaction</h2>
            <input type="hidden" name="id"/>

            Description: <input type="text" name="description" /><br/>
            Amount: <input type="number" name="amount"/> <br/>
            Type:
            <select name="transaction-type">
                <option value="income">Income</option>
                <option value="expense">Expense</option>
            </select><br/>

            <!-- Buttons to create or update transaction -->
            <button type="button" id="doCreateButton" onclick="doCreate()">Create</button>
            <button type="button" id="doUpdateButton" onclick="doUpdate()">Update</button>
        </div>

        <!-- Display list of transactions -->
        <div id="transactionsTableDiv" style="display: none;">
            <h2>Transactions</h2>
            <table id="transactionsTable" border="2 ">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Description</th>
                        <th>Amount</th>
                        <th>Type</th>
                        <th>Amount in USD</th>
                        <th>Exchange Rate EUR/USD</th>
                        <th>Update</th>
                        <th>Delete</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>

            <button id="calculateButton" onclick="calculateTotal()" style="display: none;">Calculate your total</button>

            <div id="totalDisplay" style="display: block;">
                <h3>Total Amount â‚¬: <span id="totalAmount"></span></h3>
            </div>

            <div id="downloadButtonDiv" style="display: block;">
                <button id="downloadButton" onclick="downloadCSV()">Download CSV</button>
            </div>
        </div>

        <div id="backButtonDiv" style="display: none;">
            <button id="backButton" onclick="goBack()">Go back</button>
        </div>

    </div>

    <script>
        // JavaScript functions for handling interactions (provided in your code)
    </script>

</body>
</html>
